setwd("C:/Users/andre/OneDrive/Área de Trabalho/salerno/grupo_sifra")
getwd()
path <- file.path("C:/Users/andre/OneDrive/Área de Trabalho/salerno/grupo_sifra")
setwd(path)
# packages
library(dplyr)
library(knitr)
library(xtable)
library("ggplot2")
library("plotly")
# settings
knitr::opts_chunk$set(echo = FALSE, message = FALSE, warning = FALSE)
options(scipen = 999)
Sys.setenv("plotly_username" = "bruno.ferrari")
Sys.setenv("plotly_api_key" = "1SAOpSqNc2GQTdRN0m12")
path <- file.path("C:/Users/andre/OneDrive/Área de Trabalho/salerno/grupo_sifra")
setwd(path)
install.packages("tidyverse")
library(tidyverse)
colnames(dados)
# packages
library(dplyr)
library(knitr)
library(xtable)
library("ggplot2")
library("plotly")
library(tidyverse)
# settings
knitr::opts_chunk$set(echo = FALSE, message = FALSE, warning = FALSE)
options(scipen = 999)
Sys.setenv("plotly_username" = "bruno.ferrari")
Sys.setenv("plotly_api_key" = "1SAOpSqNc2GQTdRN0m12")
path <- file.path("C:/Users/andre/OneDrive/Área de Trabalho/salerno/grupo_sifra")
setwd(path)
fcol <- function(nome){
return(which(names(dados) == nome))
}
View(fcol)
dados1 = read.csv2(file = "NR_SACADO_V2_01.csv", stringsAsFactors = F, sep = ";", na.strings = "NULL")
dados2 = read.csv2(file = "NR_SACADO_V2_02.csv", stringsAsFactors = F, sep = ";", na.strings = "NULL")
dados = rbind(dados1, dados2)
dados$DATA_PAGAMENTO = as.Date(dados$DATA_PAGAMENTO, "%d/%m/%Y")
dados$DATA_VENCIMENTO = as.Date(dados$DATA_VENCIMENTO, "%d/%m/%Y")
dados$DATA_OPERACAO = as.Date(dados$DATA_OPERACAO, "%d/%m/%Y")
dados$ULTIMA_OPERACAO = as.Date(dados$ULTIMA_OPERACAO, "%d/%m/%Y")
colnames(dados)
dados %>%
mutate(tempo_fundacao = Sys.Date() - DATA_FUNDACAO)
Sys.Date()
dados %>%
mutate(tempo_fundacao = diff(Sys.Date() - DATA_FUNDACAO))
dados %>%
mutate(tempo_fundacao = diff(Sys.Date() - DATA_FUNDACAO))
head(dados)
dados$DATA_FUNDACAO = as.Date(dados$DATA_FUNDACAO, "%d/%m/%Y")
dados$DATA_PAGAMENTO = as.Date(dados$DATA_PAGAMENTO, "%d/%m/%Y")
dados$DATA_VENCIMENTO = as.Date(dados$DATA_VENCIMENTO, "%d/%m/%Y")
dados$DATA_OPERACAO = as.Date(dados$DATA_OPERACAO, "%d/%m/%Y")
dados$ULTIMA_OPERACAO = as.Date(dados$ULTIMA_OPERACAO, "%d/%m/%Y")
dados %>%
mutate(tempo_fundacao = (Sys.Date() - DATA_FUNDACAO) / 365
dados %>%
mutate(tempo_fundacao = (Sys.Date() - DATA_FUNDACAO) / 365)
head(dados)
dados %>%
mutate(dados$tempo_fundacao = (Sys.Date() - DATA_FUNDACAO) / 365)
dados %>%
mutate(dados$tempo_fundacao = (Sys.Date() - dados$DATA_FUNDACAO) / 365)
dados %>%
mutate(dados, tempo_fundacao = (Sys.Date() - DATA_FUNDACAO) / 365)
class(dados)
dados %>%
mutate(dados, tempo_fundacao = Sys.Date() - DATA_FUNDACAO / 365)
dados %>%
as.data.frame(dados) %>%
mutate(dados, tempo_fundacao = Sys.Date() - DATA_FUNDACAO / 365)
dados %>%
mutate(dados, tempo_fundacao = ((Sys.Date()) - (DATA_FUNDACAO)) / 365)
str(dados)
dados %>%
mutate(dados, tempo_fundacao = ((Sys.Date()) - (DATA_FUNDACAO)) / 365))
dados %>%
mutate(dados, tempo_fundacao = (((Sys.Date()) - (DATA_FUNDACAO)) / 365)))
dados %>%
mutate(tempo_fundacao = (((Sys.Date()) - (DATA_FUNDACAO)) / 365))
head(dados)
colnames(dados)
dados %>%
mutate(tempo_fundacao = (((Sys.Date()) - (DATA_FUNDACAO)) / 365))
dados %>%
as.tibble() %>%
mutate(tempo_fundacao = (((Sys.Date()) - (DATA_FUNDACAO)) / 365))
colnames(dados)
dados %>%
dados <- mutate(tempo_fundacao = (((Sys.Date()) - (DATA_FUNDACAO)) / 365))
dados %>%
dados <- mutate(tempo_fundacao = (((Sys.Date()) - (dados$DATA_FUNDACAO)) / 365))
dados %>%
dados <- mutate(dados, tempo_fundacao = (((Sys.Date()) - (dados$DATA_FUNDACAO)) / 365))
dados %>%
dados$tempo_fundacao <- mutate(tempo_fundacao = (((Sys.Date()) - (dados$DATA_FUNDACAO)) / 365))
dados %>%
mutate(tempo_fundacao = (((Sys.Date()) - (dados$DATA_FUNDACAO)) / 365)) %>%
dados$tempo_fundacao
dados %>%
mutate(tempo_fundacao = (((Sys.Date()) - (DATA_FUNDACAO)) / 365)) %>%
dados$tempo_fundacao
dados %>%
rowwise() %>%
mutate(tempo_fundacao = (Sys.Date() - DATA_FUNDACAO)/ 365)
colnames(dados)
dados %>%
rowwise() %>%
dados$tempo_fundacao = mutate(tempo_fundacao = (Sys.Date() - DATA_FUNDACAO)/ 365)
Sys.Date() - dados$DATA_FUNDACAO[1]
(Sys.Date() - dados$DATA_FUNDACAO[1] / 365)
Sys.Date() - dados$DATA_FUNDACAO[1] / 365
Sys.Date() - dados$DATA_FUNDACAO[1] / 365
(Sys.Date() - dados$DATA_FUNDACAO[1]) / 365
dados %>%
rowwise() %>%
mutate(tempo_fundacao = as.numeric((Sys.Date() - DATA_FUNDACAO)/ 365))
a <- 1:10
b <- 11:20
c <- data.frame(a, b)
library(tidyverse)
c %>%
mutate(d = a * b)
class(c)
c %>%
rowwise() %>%
mutate(d = a * b)
dados %>%
mutate(tempo_fundacao = as.numeric((Sys.Date() - DATA_FUNDACAO)/ 365))
colnames(dados)
c %>%
mutate(d = a * b)
Sys.Date()
class(Sys.Date())
class(dados$DATA_FUNDACAO)
dados %>%
mutate(tempo_fundacao = (Sys.Date() - DATA_FUNDACAO)/ 365)
colnames(dados)
head(dados)
dados %>%
mutate(tempo_fundacao = Sys.Date() - DATA_FUNDACAO
dados %>%
mutate(tempo_fundacao = Sys.Date() - DATA_FUNDACAO)
colnames(dados)
dados %>%
mutate(tempo_fundacao = Sys.Date() - DATA_FUNDACAO) %>%
dados
dados %>%
mutate(tempo_fundacao = Sys.Date() - DATA_FUNDACAO) %>%
print(dados)
dados %>%
mutate(tempo_fundacao = Sys.Date() - DATA_FUNDACAO) %>%
View(dados)
lapply(c, d <- a * b)
sapply(c, d <- a * b)
sapply(c, function(a * b))
dados %>%
mutate(tempo_fundacao = Sys.Date() - DATA_FUNDACAO)
colnames(dados)
class(dados)
str(dados)
(Sys.Date() - dados$DATA_FUNDACAO)
dados %>%
mutate(tempo_fundacao = DATA_FUNDACAO + 10)
colnames(dados)
dados %>%
mutate(tempo_fundacao = !is.null(DATA_FUNDACAO + 10)
dados %>%
mutate(tempo_fundacao = !is.null(DATA_FUNDACAO + 10))
colnames(dados)
dados %>%
mutate(tempo_fundacao = is.null(DATA_FUNDACAO))
colnames(dados)
dados %>%
dados <- mutate(tempo_fundacao = is.null(DATA_FUNDACAO))
dados %>%
dados <- mutate(tempo_fundacao = is.null(dados$DATA_FUNDACAO))
dados %>%
mutate(tempo_fundacao = DATA_FUNDACAO)
colnames(dados)
dados %>%
mutate(tempo_fundacao = DATA_FUNDACAO)
dados %>%
!is.na(mutate(tempo_fundacao = DATA_FUNDACAO))
any(is.na(dados$DATA_FUNDACAO))
index_dt_fundacao_nulls <- which(is.na(dados$DATA_FUNDACAO)) # Locate NULLs
index_dt_fundacao_nulls
length(index_dt_fundacao_nulls)
dados$DATA_FUNDACAO[106556]
dados$DATA_FUNDACAO[171]
dados$DATA_FUNDACAO[172]
any(is.na(dados$DATA_FUNDACAO)) # checking NULLs
index_dt_fundacao_nulls <- which(is.na(dados$DATA_FUNDACAO)) # Locate NULLs
length(index_dt_fundacao_nulls) # number of NULLs
dados %>%
if (dados$DATA_FUNDACAO == !NA){
mutate(tempo_fundacao = (Sys.Date() - DATA_FUNDACAO) / 365)
} else{
mutate(tempo_fundacao = "")
}
any(is.na(dados$DATA_FUNDACAO)) # checking NULLs
index_dt_fundacao_nulls <- which(is.na(dados$DATA_FUNDACAO)) # Locate NULLs
length(index_dt_fundacao_nulls) # number of NULLs
dados %>%
if (DATA_FUNDACAO == !NA){
mutate(tempo_fundacao = (Sys.Date() - DATA_FUNDACAO) / 365)
} else{
mutate(tempo_fundacao = "")
}
any(is.na(dados$DATA_FUNDACAO)) # checking NULLs
index_dt_fundacao_nulls <- which(is.na(dados$DATA_FUNDACAO)) # Locate NULLs
length(index_dt_fundacao_nulls) # number of NULLs
if (dados$DATA_FUNDACAO == !NA){
mutate(tempo_fundacao = (Sys.Date() - DATA_FUNDACAO) / 365)
} else{
mutate(tempo_fundacao = "")
}
any(is.na(dados$DATA_FUNDACAO)) # checking NULLs
index_dt_fundacao_nulls <- which(is.na(dados$DATA_FUNDACAO)) # Locate NULLs
length(index_dt_fundacao_nulls) # number of NULLs
if (dados$DATA_FUNDACAO !NA){
df <- data.frame(col1 = c("abc","abcd","a","abcdefg"),col2 = c("adf qqwe","d","e","f"))
for(i in names(df)){
df[[paste(i, 'length', sep="_")]] <- str_length(df[[i]])
}
View(df)
library(stringr)
out <- lapply( df , str_length )
df <- cbind( df , out )
View(df)
any(is.na(dados$DATA_FUNDACAO)) # checking NULLs
index_dt_fundacao_nulls <- which(is.na(dados$DATA_FUNDACAO)) # Locate NULLs
length(index_dt_fundacao_nulls) # number of NULLs
if (dados$DATA_FUNDACAO !NA){
any(is.na(dados$DATA_FUNDACAO)) # checking NULLs
index_dt_fundacao_nulls <- which(is.na(dados$DATA_FUNDACAO)) # Locate NULLs
length(index_dt_fundacao_nulls) # number of NULLs
if (dados$DATA_FUNDACAO == !NA){
mutate_all(tempo_fundacao = (Sys.Date() - DATA_FUNDACAO) / 365)
} else{
mutate_all(tempo_fundacao = "")
}
any(is.na(dados$DATA_FUNDACAO)) # checking NULLs
index_dt_fundacao_nulls <- which(is.na(dados$DATA_FUNDACAO)) # Locate NULLs
length(index_dt_fundacao_nulls) # number of NULLs
if (dados$DATA_FUNDACAO == !NA){
mutate_all(tempo_fundacao = (Sys.Date() - DATA_FUNDACAO) / 365)
} else{
mutate_all(tempo_fundacao = "")
}
a <- rnorm(100, 5, 2)
a
b <- rnorm(200, 20, 4)
df <- data.frame(a, b)
df
df %>%
mutate(c = a * b)
df
df
df %>%
mutate_all(c = a * b)
df %>%
mutate_all(c = a * b)
df
df %>%
mutate_all(.funs = a * b)
df
df %>%
mutate(c = a * b)
df
df %>%
df <- mutate(c = a * b)
df %>%
df <- mutate(c = a * b)
df %>%
mutate(c = a * b)
df %>%
mutate(c = a * b) %>%
df
dados %>%
as.tibble() %>%
mutate(
tempo_fundacao = (Sys.Date() - dados$DATA_FUNDACAO) / 365, na.rm = TRUE))
dados %>%
as.tibble() %>%
mutate(
tempo_fundacao = ((Sys.Date() - dados$DATA_FUNDACAO) / 365), na.rm = TRUE))
install.packages("blogdown")
options(blogdown.ext = ".Rmd", blogdown.author = "André Salerno, MSc")
blogdown:::new_post_addin()
setwd("C:/blogdown")
blogdown:::new_post_addin()
setwd("C:/blogdown")
library(reticulate)
path <- file.path(Sys.which("python"))
use_python(python = path)
library(reticulate)
path <- file.path(Sys.which("python"))
use_python(python = path)
library(reticulate)
path <- file.path(Sys.which("python"))
use_python(python = path)
setwd("C:/blogdown")
getwd()
library(reticulate)
path <- file.path(Sys.which("python"))
use_python(python = path)
blogdown::serve_site()
blogdown::serve_site
blogdown::serve_site()
blogdown:::new_post_addin()
blogdown::serve_site()
<<<<<<< HEAD
blogdown::serve_site()
=======
>>>>>>> d2d56c0982ec5e4c28d939de01264732175aadb2
